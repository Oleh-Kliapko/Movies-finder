"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[813],{7179:function(n,e,t){t.r(e),t.d(e,{default:function(){return k}});var o=t(9439),r=t(2791),i=t(1087),a=t(7596),c=(t(5462),t(5902));var u,s,l,p,f=t.p+"static/media/loupe.5ea08efbbfae3167e15686850cc6758d.svg",d=t(168),x=t(7402),h=x.Z.section(u||(u=(0,d.Z)(["\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 2;\n  display: flex;\n  align-items: center;\n  min-height: 36px;\n  padding: 12px 24px;\n  padding-left: 40px;\n  color: '#fff';\n  background-color: rgb(240, 240, 240);\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n"]))),b=x.Z.form(s||(s=(0,d.Z)(["\n  display: flex;\n  width: 100%;\n  max-width: 600px;\n  background-color: '#fff';\n  border-radius: 4px;\n  overflow: hidden;\n"]))),g=x.Z.button(l||(l=(0,d.Z)(["\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 1px solid;\n  border-color: rgb(190, 190, 190);\n  background-size: 50%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  &:hover {\n    opacity: 1;\n  }\n"]))),m=x.Z.input(p||(p=(0,d.Z)(["\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 24px;\n  border: none;\n  outline: none;\n  padding: 10px;\n  &::placeholder {\n    font: inherit;\n    font-size: 20px;\n  }\n"]))),v=t(184);function y(n){var e=n.onSubmit,t=(0,r.useState)(""),i=(0,o.Z)(t,2),c=i[0],u=i[1],s=function(){return u("")};return(0,v.jsx)(h,{children:(0,v.jsxs)(b,{onSubmit:function(n){if(n.preventDefault(),""===c.trim()||c.length<3)return a.Am.warn("Searching must be no empty and more than 2 letters"),void s();e(c),s()},children:[(0,v.jsx)(m,{type:"text",autocomplete:"off",autoFocus:!0,placeholder:"Search movies...",value:c,onChange:function(n){u(n.currentTarget.value.toLowerCase())}}),(0,v.jsx)(g,{type:"submit",style:{backgroundImage:"url(".concat(f,")")}})]})})}var S=(0,r.lazy)((function(){return t.e(647).then(t.bind(t,8647))})),k=function(){var n,e=(0,r.useState)(null),t=(0,o.Z)(e,2),u=t[0],s=t[1],l=(0,r.useState)(JSON.parse(localStorage.getItem("movies"))||null),p=(0,o.Z)(l,2),f=p[0],d=p[1],x=(0,i.lr)(),h=(0,o.Z)(x,2),b=h[0],g=h[1],m=null!==(n=b.get("query"))&&void 0!==n?n:"";(0,r.useEffect)((function(){u&&c.b.fetchMovieSearch(u).then((function(n){d(n),localStorage.setItem("movies",JSON.stringify(n))})).catch((function(){return a.Am.error("Sorry, there are not details of this movie")}))}),[u]);var k=function(n){g(""!==n?{query:n}:{})};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(y,{value:m,onSubmit:function(n){n!==u?(s(n),k(n)):a.Am.warn("The new search must be different from the current search")}}),(0,v.jsx)(r.Suspense,{fallback:(0,v.jsx)(c.a,{}),children:f&&(0,v.jsx)(S,{movies:f})}),(0,v.jsx)(a.Ix,{autoClose:3e3})]})}}}]);
//# sourceMappingURL=813.e52b1b25.chunk.js.map