"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[813],{7179:function(n,e,t){t.r(e),t.d(e,{default:function(){return Z}});var r=t(9439),o=t(2791),i=t(1087),a=t(7596),u=(t(5462),t(5902));var c,s,l,p,d=t.p+"static/media/loupe.5ea08efbbfae3167e15686850cc6758d.svg",f=t(168),x=t(7402),h=x.Z.section(c||(c=(0,f.Z)(["\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 2;\n  display: flex;\n  align-items: center;\n  min-height: 36px;\n  padding: 12px 24px;\n  padding-left: 40px;\n  color: '#fff';\n  background-color: rgb(240, 240, 240);\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n"]))),b=x.Z.form(s||(s=(0,f.Z)(["\n  display: flex;\n  width: 100%;\n  max-width: 600px;\n  background-color: '#fff';\n  border-radius: 4px;\n  overflow: hidden;\n"]))),m=x.Z.button(l||(l=(0,f.Z)(["\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 1px solid;\n  border-color: rgb(190, 190, 190);\n  background-size: 50%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  &:hover {\n    opacity: 1;\n  }\n"]))),g=x.Z.input(p||(p=(0,f.Z)(["\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 24px;\n  border: none;\n  outline: none;\n  padding: 10px;\n  &::placeholder {\n    font: inherit;\n    font-size: 20px;\n  }\n"]))),v=t(184);function y(n){var e=n.onSubmit,t=(0,o.useState)(""),i=(0,r.Z)(t,2),u=i[0],c=i[1],s=function(){return c("")};return(0,v.jsx)(h,{children:(0,v.jsxs)(b,{onSubmit:function(n){if(n.preventDefault(),""===u.trim()||u.length<2)return a.Am.warn("Searching must be no empty and more than 1 letter"),void s();e(u),s()},children:[(0,v.jsx)(g,{type:"text",autocomplete:"off",autoFocus:!0,placeholder:"Search movies...",value:u,onChange:function(n){c(n.currentTarget.value.toLowerCase())}}),(0,v.jsx)(m,{type:"submit",style:{backgroundImage:"url(".concat(d,")")}})]})})}var k,w=(0,o.lazy)((function(){return t.e(647).then(t.bind(t,8647))})),Z=function(){var n,e=(0,o.useState)(null),t=(0,r.Z)(e,2),c=t[0],s=t[1],l=(0,o.useState)(null),p=(0,r.Z)(l,2),d=p[0],f=p[1],x=(0,i.lr)(),h=(0,r.Z)(x,2),b=h[0],m=h[1],g=null!==(n=b.get("query"))&&void 0!==n?n:k;(0,o.useEffect)((function(){g&&u.b.fetchMovieSearch(g).then((function(n){f(n),k=g})).catch((function(){return a.Am.error("Sorry, there are not details of this movie")}))}),[g]);var Z=function(n){m(""!==n?{query:n}:{})};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(y,{value:g,onSubmit:function(n){n!==c?(s(n),Z(n)):a.Am.warn("The new search must be different from the current search")}}),(0,v.jsx)(o.Suspense,{fallback:(0,v.jsx)(u.a,{}),children:d&&(0,v.jsx)(w,{movies:d,initialMovieName:k})}),(0,v.jsx)(a.Ix,{autoClose:3e3})]})}}}]);
//# sourceMappingURL=813.37406153.chunk.js.map